<product-card>
  <div class="card__product-card {% if product.media[1] != null and card_variant.featured_image == null %}is--hoverable{% endif %}">
    <div class="card__product-card-wrapper">
      <div class="card__product-media">
        {% if card_variant.featured_image %}
          {{
            card_variant.featured_image
            | image_url: width: card_variant.featured_image.width
            | image_tag: class: 'primary_image', loading: 'lazy'
          }}
        {% else %}
          {{
            product.featured_image
            | image_url: width: product.featured_image.width
            | image_tag: class: 'primary_image', loading: 'lazy'
          }}
        {% endif %}
        {% if product.media[1] != null and card_variant.featured_image == null %}
          {{
            product.media[1]
            | image_url: width: product.media[1].width
            | image_tag: class: 'second_image', loading: 'lazy'
          }}
        {% endif %}
        <div class="sale-badge">Featured</div>
        <button
          class="cp2-quick-add-btn"
          data-variant-id="{{ card_variant.id }}"
          {% if card_variant.available == false %}
            disabled
          {% endif %}
        >
         {% render 'header-icons', name: 'card-bag', id: card_variant.id %}
        </button>
      </div>
      <div class="card__product-info">
        <div class="card__product-rating-wishlist">
          <div class="card__product-rating">
            {% comment %}
            <div
              class="ruk_rating_snippet"
              data-sku="{{ product.handle }};{{ product.variants | map: 'sku' | join: ';' }};{{ product.variants | map: 'id' | join: ';' }}"
            ></div>
            {% endcomment %}
            <!-- Begin Yotpo Star Rating Category Page -->
              <div class="yotpo-widget-instance" data-yotpo-instance-id="1080395" data-yotpo-product-id="{{product.id}}" data-yotpo-cart-product-id="{{item.product.id}}" data-yotpo-section-id="collection"></div>
            <!-- End Yotpo Star Rating Category Page -->
          </div>
          <div class="card__product-wishlist hidden">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.99431 4.27985C8.32819 2.332 5.54981 1.80804 3.46227 3.59168C1.37472 5.37532 1.08083 8.35748 2.72019 10.467C4.0832 12.2209 8.20816 15.9201 9.5601 17.1174C9.71136 17.2513 9.78698 17.3183 9.8752 17.3446C9.95219 17.3676 10.0364 17.3676 10.1134 17.3446C10.2016 17.3183 10.2773 17.2513 10.4285 17.1174C11.7805 15.9201 15.9054 12.2209 17.2684 10.467C18.9078 8.35748 18.6498 5.35656 16.5264 3.59168C14.4029 1.8268 11.6604 2.332 9.99431 4.27985Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <h4>{{ product.title | escape }} - {{ variant_option }}</h4>
        <div class="card__product-price">
          <div class="variant-separate-price product-price {% if product.price_varies %}price-varies{% else %}price-regular{% endif %}">
            {%- if card_variant.compare_at_price > card_variant.price -%}
              <span class="variant-price-regular">{{ card_variant.price | money }}</span>
              <span class="variant-price-compare"
                ><s>{{ card_variant.compare_at_price | money }}</s></span
              >
            {%- else -%}
              <span class="variant-price-regular">{{ card_variant.price | money }}</span>
            {%- endif -%}
          </div>
        </div>
      </div>
    </div>
    <a href="{{ card_variant.url }}"></a>
  </div>
</product-card>
